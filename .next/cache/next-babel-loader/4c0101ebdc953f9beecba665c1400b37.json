{"ast":null,"code":"var _jsxFileName = \"W:\\\\askem-project2\\\\client\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Head from 'next/head';\nimport { useRouter } from 'next/router';\nimport { publicFetch } from '../util/fetcher';\nimport Layout from '../components/layout';\nimport QuestionWrapper from '../components/question/question-wrapper';\nimport QuestionStats from '../components/question/question-stats';\nimport QuestionSummary from '../components/question/question-summary';\nimport PageTitle from '../components/page-title';\nimport ButtonGroup from '../components/button-group';\nimport { Spinner } from '../components/icons';\nconst HomePage = () => {\n  const router = useRouter();\n  const {\n    0: questions,\n    1: setQuestions\n  } = useState(null);\n  const {\n    0: sortType,\n    1: setSortType\n  } = useState('Votes');\n  useEffect(() => {\n    const fetchQuestion = async () => {\n      const {\n        data\n      } = await publicFetch.get('/question');\n      setQuestions(data);\n    };\n    const fetchQuestionByTag = async () => {\n      const {\n        data\n      } = await publicFetch.get(`/questions/${router.query.tag}`);\n      setQuestions(data);\n    };\n    if (router.query.tag) {\n      fetchQuestionByTag();\n    } else {\n      fetchQuestion();\n    }\n  }, [router.query.tag]);\n  const handleSorting = () => {\n    switch (sortType) {\n      case 'Votes':\n        return (a, b) => b.score - a.score;\n      case 'Views':\n        return (a, b) => b.views - a.views;\n      case 'Newest':\n        return (a, b) => new Date(b.created) - new Date(a.created);\n      case 'Oldest':\n        return (a, b) => new Date(a.created) - new Date(b.created);\n      default:\n        break;\n    }\n  };\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, router.query.tag ? router.query.tag : 'Questions', \" - Clone of Stackoverflow\")), __jsx(PageTitle, {\n    title: router.query.tag ? `Questions tagged [${router.query.tag}]` : 'All Questions',\n    button: true,\n    borderBottom: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), __jsx(ButtonGroup, {\n    borderBottom: true,\n    buttons: ['Votes', 'Views', 'Newest', 'Oldest'],\n    selected: sortType,\n    setSelected: setSortType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }), !questions && __jsx(\"div\", {\n    className: \"loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, __jsx(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  })), questions === null || questions === void 0 ? void 0 : questions.sort(handleSorting()).map(({\n    id,\n    votes,\n    answers,\n    views,\n    title,\n    text,\n    tags,\n    author,\n    created\n  }) => __jsx(QuestionWrapper, {\n    key: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, __jsx(QuestionStats, {\n    voteCount: votes.length,\n    answerCount: answers.length,\n    view: views,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }), __jsx(QuestionSummary, {\n    id: id,\n    title: title,\n    tags: tags,\n    author: author,\n    createdTime: created,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, text))));\n};\nexport default HomePage;","map":{"version":3,"names":["React","useState","useEffect","Head","useRouter","publicFetch","Layout","QuestionWrapper","QuestionStats","QuestionSummary","PageTitle","ButtonGroup","Spinner","HomePage","router","questions","setQuestions","sortType","setSortType","fetchQuestion","data","get","fetchQuestionByTag","query","tag","handleSorting","a","b","score","views","Date","created","__jsx","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","button","borderBottom","buttons","selected","setSelected","className","sort","map","id","votes","answers","text","tags","author","key","voteCount","length","answerCount","view","createdTime"],"sources":["W:/askem-project2/client/pages/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Head from 'next/head'\r\nimport { useRouter } from 'next/router'\r\n\r\nimport { publicFetch } from '../util/fetcher'\r\n\r\nimport Layout from '../components/layout'\r\nimport QuestionWrapper from '../components/question/question-wrapper'\r\nimport QuestionStats from '../components/question/question-stats'\r\nimport QuestionSummary from '../components/question/question-summary'\r\nimport PageTitle from '../components/page-title'\r\nimport ButtonGroup from '../components/button-group'\r\nimport { Spinner } from '../components/icons'\r\n\r\nconst HomePage = () => {\r\n  const router = useRouter()\r\n\r\n  const [questions, setQuestions] = useState(null)\r\n  const [sortType, setSortType] = useState('Votes')\r\n\r\n  useEffect(() => {\r\n    const fetchQuestion = async () => {\r\n      const { data } = await publicFetch.get('/question')\r\n      setQuestions(data)\r\n    }\r\n\r\n    const fetchQuestionByTag = async () => {\r\n      const { data } = await publicFetch.get(`/questions/${router.query.tag}`)\r\n      setQuestions(data)\r\n    }\r\n\r\n    if (router.query.tag) {\r\n      fetchQuestionByTag()\r\n    } else {\r\n      fetchQuestion()\r\n    }\r\n  }, [router.query.tag])\r\n\r\n  const handleSorting = () => {\r\n    switch (sortType) {\r\n      case 'Votes':\r\n        return (a, b) => b.score - a.score\r\n      case 'Views':\r\n        return (a, b) => b.views - a.views\r\n      case 'Newest':\r\n        return (a, b) => new Date(b.created) - new Date(a.created)\r\n      case 'Oldest':\r\n        return (a, b) => new Date(a.created) - new Date(b.created)\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <Head>\r\n        <title>\r\n          {router.query.tag ? router.query.tag : 'Questions'} - Clone of\r\n          Stackoverflow\r\n        </title>\r\n      </Head>\r\n\r\n      <PageTitle title={router.query.tag ? `Questions tagged [${router.query.tag}]` : 'All Questions'} button borderBottom={false} />\r\n\r\n      <ButtonGroup\r\n        borderBottom\r\n        buttons={['Votes', 'Views', 'Newest', 'Oldest']}\r\n        selected={sortType}\r\n        setSelected={setSortType}\r\n      />\r\n\r\n      {!questions && (\r\n        <div className=\"loading\">\r\n          <Spinner />\r\n        </div>\r\n      )}\r\n\r\n      {questions\r\n        ?.sort(handleSorting())\r\n        .map(\r\n          ({\r\n            id,\r\n            votes,\r\n            answers,\r\n            views,\r\n            title,\r\n            text,\r\n            tags,\r\n            author,\r\n            created\r\n          }) => (\r\n            <QuestionWrapper key={id}>\r\n              <QuestionStats\r\n                voteCount={votes.length}\r\n                answerCount={answers.length}\r\n                view={views}\r\n              />\r\n              <QuestionSummary\r\n                id={id}\r\n                title={title}\r\n                tags={tags}\r\n                author={author}\r\n                createdTime={created}\r\n              >\r\n                {text}\r\n              </QuestionSummary>\r\n            </QuestionWrapper>\r\n          )\r\n        )}\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default HomePage\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}