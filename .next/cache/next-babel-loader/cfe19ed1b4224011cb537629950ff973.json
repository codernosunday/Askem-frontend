{"ast":null,"code":"var _jsxFileName = \"W:\\\\askem-project2\\\\client\\\\pages\\\\groups\\\\[group].js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useContext } from 'react';\nimport Head from 'next/head';\nimport { GroupAuthContext } from '../../store/groupauth';\nimport { publicFetch } from '../../util/fetcher';\nimport PageTitle from '../../components/page-title';\nimport Layout from '../../components/layout';\nimport { FetchContext } from '../../store/fetch';\nimport QuestionWrapper from '../../components/question/question-wrapper';\nimport QuestionStats from '../../components/question/question-stats';\nimport QuestionSummary from '../../components/question/question-summary';\nimport ButtonGroup from '../../components/button-group';\nimport { Spinner } from '../../components/icons';\nexport async function getServerSideProps(context) {\n  const {\n    group\n  } = context.params;\n  return {\n    props: {\n      name: group\n    }\n  };\n}\nconst GroupDetail = ({\n  name\n}) => {\n  const router = useRouter();\n  const {\n    0: questions,\n    1: setQuestions\n  } = useState(null);\n  const {\n    0: sortType,\n    1: setSortType\n  } = useState('Votes');\n  // const { authAxios } = useContext(FetchContext)\n  const {\n    valueGroup,\n    setValueGroup\n  } = useContext(GroupAuthContext);\n  useEffect(() => {\n    const fetchDataGroup = async () => {\n      const {\n        data\n      } = await publicFetch.get(`/group/${name}`);\n      setValueGroup(name);\n    };\n    fetchDataGroup();\n    const fetchQuestion = async () => {\n      const {\n        data\n      } = await publicFetch.get('/question');\n      setQuestions(data);\n    };\n    const fetchQuestionByTag = async () => {\n      const {\n        data\n      } = await publicFetch.get(`/questions/${router.query.tag}`);\n      setQuestions(data);\n    };\n    if (router.query.tag) {\n      fetchQuestionByTag();\n    } else {\n      fetchQuestion();\n    }\n  }, [router.query.tag]);\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \"Group \", valueGroup)), __jsx(Layout, {\n    extra: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, __jsx(PageTitle, {\n    title: \"Group\",\n    linkRoute: '/groups/ask',\n    borderBottom: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }), __jsx(ButtonGroup, {\n    borderBottom: true,\n    buttons: ['Votes', 'Views', 'Newest', 'Oldest'],\n    selected: sortType,\n    setSelected: setSortType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }), !questions && __jsx(\"div\", {\n    className: \"loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, __jsx(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  })), questions === null || questions === void 0 ? void 0 : questions.sort(handleSorting()).map(({\n    id,\n    votes,\n    answers,\n    views,\n    title,\n    text,\n    tags,\n    author,\n    created\n  }) => __jsx(QuestionWrapper, {\n    key: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 29\n    }\n  }, __jsx(QuestionStats, {\n    voteCount: votes.length,\n    answerCount: answers.length,\n    view: views,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 33\n    }\n  }), __jsx(QuestionSummary, {\n    id: id,\n    title: title,\n    tags: tags,\n    author: author,\n    createdTime: created,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: text\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 37\n    }\n  }))))));\n};\nexport default GroupDetail;","map":{"version":3,"names":["React","useEffect","useState","useContext","Head","GroupAuthContext","publicFetch","PageTitle","Layout","FetchContext","QuestionWrapper","QuestionStats","QuestionSummary","ButtonGroup","Spinner","getServerSideProps","context","group","params","props","name","GroupDetail","router","useRouter","questions","setQuestions","sortType","setSortType","valueGroup","setValueGroup","fetchDataGroup","data","get","fetchQuestion","fetchQuestionByTag","query","tag","__jsx","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","extra","title","linkRoute","borderBottom","buttons","selected","setSelected","className","sort","handleSorting","map","id","votes","answers","views","text","tags","author","created","key","voteCount","length","answerCount","view","createdTime","dangerouslySetInnerHTML","__html"],"sources":["W:/askem-project2/client/pages/groups/[group].js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react'\r\nimport Head from 'next/head'\r\nimport { GroupAuthContext } from '../../store/groupauth'\r\nimport { publicFetch } from '../../util/fetcher'\r\nimport PageTitle from '../../components/page-title'\r\nimport Layout from '../../components/layout'\r\nimport { FetchContext } from '../../store/fetch'\r\n\r\nimport QuestionWrapper from '../../components/question/question-wrapper'\r\nimport QuestionStats from '../../components/question/question-stats'\r\nimport QuestionSummary from '../../components/question/question-summary'\r\nimport ButtonGroup from '../../components/button-group'\r\nimport { Spinner } from '../../components/icons'\r\nexport async function getServerSideProps(context) {\r\n    const { group } = context.params;\r\n\r\n    return {\r\n        props: { name: group },\r\n    };\r\n}\r\nconst GroupDetail = ({ name }) => {\r\n    const router = useRouter()\r\n    const [questions, setQuestions] = useState(null)\r\n    const [sortType, setSortType] = useState('Votes')\r\n    // const { authAxios } = useContext(FetchContext)\r\n    const { valueGroup, setValueGroup } = useContext(GroupAuthContext)\r\n    useEffect(() => {\r\n        const fetchDataGroup = async () => {\r\n            const { data } = await publicFetch.get(`/group/${name}`)\r\n            setValueGroup(name);\r\n        }\r\n        fetchDataGroup()\r\n\r\n        const fetchQuestion = async () => {\r\n            const { data } = await publicFetch.get('/question')\r\n            setQuestions(data)\r\n        }\r\n\r\n        const fetchQuestionByTag = async () => {\r\n            const { data } = await publicFetch.get(`/questions/${router.query.tag}`)\r\n            setQuestions(data)\r\n        }\r\n\r\n        if (router.query.tag) {\r\n            fetchQuestionByTag()\r\n        } else {\r\n            fetchQuestion()\r\n        }\r\n    }, [router.query.tag])\r\n    return (\r\n        <>\r\n            <Head>\r\n                <title>Group {valueGroup}</title>\r\n            </Head>\r\n            <Layout extra={true}>\r\n                <PageTitle title={\"Group\"} linkRoute={'/groups/ask'} borderBottom={false} />\r\n                <ButtonGroup\r\n                    borderBottom\r\n                    buttons={['Votes', 'Views', 'Newest', 'Oldest']}\r\n                    selected={sortType}\r\n                    setSelected={setSortType}\r\n                />\r\n\r\n                {!questions && (\r\n                    <div className=\"loading\">\r\n                        <Spinner />\r\n                    </div>\r\n                )}\r\n\r\n                {questions\r\n                    ?.sort(handleSorting())\r\n                    .map(\r\n                        ({\r\n                            id,\r\n                            votes,\r\n                            answers,\r\n                            views,\r\n                            title,\r\n                            text,\r\n                            tags,\r\n                            author,\r\n                            created\r\n                        }) => (\r\n                            <QuestionWrapper key={id}>\r\n                                <QuestionStats\r\n                                    voteCount={votes.length}\r\n                                    answerCount={answers.length}\r\n                                    view={views}\r\n                                />\r\n                                <QuestionSummary\r\n                                    id={id}\r\n                                    title={title}\r\n                                    tags={tags}\r\n                                    author={author}\r\n                                    createdTime={created}\r\n                                >\r\n                                    <div dangerouslySetInnerHTML={{ __html: text }} />\r\n                                </QuestionSummary>\r\n                            </QuestionWrapper>\r\n                        )\r\n                    )}\r\n            </Layout>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default GroupDetail"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAC9D,OAAOC,IAAI,MAAM,WAAW;AAC5B,SAASC,gBAAgB,QAAQ,uBAAuB;AACxD,SAASC,WAAW,QAAQ,oBAAoB;AAChD,OAAOC,SAAS,MAAM,6BAA6B;AACnD,OAAOC,MAAM,MAAM,yBAAyB;AAC5C,SAASC,YAAY,QAAQ,mBAAmB;AAEhD,OAAOC,eAAe,MAAM,4CAA4C;AACxE,OAAOC,aAAa,MAAM,0CAA0C;AACpE,OAAOC,eAAe,MAAM,4CAA4C;AACxE,OAAOC,WAAW,MAAM,+BAA+B;AACvD,SAASC,OAAO,QAAQ,wBAAwB;AAChD,OAAO,eAAeC,kBAAkBA,CAACC,OAAO,EAAE;EAC9C,MAAM;IAAEC;EAAM,CAAC,GAAGD,OAAO,CAACE,MAAM;EAEhC,OAAO;IACHC,KAAK,EAAE;MAAEC,IAAI,EAAEH;IAAM;EACzB,CAAC;AACL;AACA,MAAMI,WAAW,GAAGA,CAAC;EAAED;AAAK,CAAC,KAAK;EAC9B,MAAME,MAAM,GAAGC,SAAS,CAAC,CAAC;EAC1B,MAAM;IAAA,GAACC,SAAS;IAAA,GAAEC;EAAY,IAAIvB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM;IAAA,GAACwB,QAAQ;IAAA,GAAEC;EAAW,IAAIzB,QAAQ,CAAC,OAAO,CAAC;EACjD;EACA,MAAM;IAAE0B,UAAU;IAAEC;EAAc,CAAC,GAAG1B,UAAU,CAACE,gBAAgB,CAAC;EAClEJ,SAAS,CAAC,MAAM;IACZ,MAAM6B,cAAc,GAAG,MAAAA,CAAA,KAAY;MAC/B,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMzB,WAAW,CAAC0B,GAAG,CAAC,UAAUZ,IAAI,EAAE,CAAC;MACxDS,aAAa,CAACT,IAAI,CAAC;IACvB,CAAC;IACDU,cAAc,CAAC,CAAC;IAEhB,MAAMG,aAAa,GAAG,MAAAA,CAAA,KAAY;MAC9B,MAAM;QAAEF;MAAK,CAAC,GAAG,MAAMzB,WAAW,CAAC0B,GAAG,CAAC,WAAW,CAAC;MACnDP,YAAY,CAACM,IAAI,CAAC;IACtB,CAAC;IAED,MAAMG,kBAAkB,GAAG,MAAAA,CAAA,KAAY;MACnC,MAAM;QAAEH;MAAK,CAAC,GAAG,MAAMzB,WAAW,CAAC0B,GAAG,CAAC,cAAcV,MAAM,CAACa,KAAK,CAACC,GAAG,EAAE,CAAC;MACxEX,YAAY,CAACM,IAAI,CAAC;IACtB,CAAC;IAED,IAAIT,MAAM,CAACa,KAAK,CAACC,GAAG,EAAE;MAClBF,kBAAkB,CAAC,CAAC;IACxB,CAAC,MAAM;MACHD,aAAa,CAAC,CAAC;IACnB;EACJ,CAAC,EAAE,CAACX,MAAM,CAACa,KAAK,CAACC,GAAG,CAAC,CAAC;EACtB,OACIC,KAAA,CAAArC,KAAA,CAAAsC,QAAA,QACID,KAAA,CAACjC,IAAI;IAAAmC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACDP,KAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAO,QAAM,EAAChB,UAAkB,CAC9B,CAAC,EACPS,KAAA,CAAC7B,MAAM;IAACqC,KAAK,EAAE,IAAK;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAChBP,KAAA,CAAC9B,SAAS;IAACuC,KAAK,EAAE,OAAQ;IAACC,SAAS,EAAE,aAAc;IAACC,YAAY,EAAE,KAAM;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,EAC5EP,KAAA,CAACxB,WAAW;IACRmC,YAAY;IACZC,OAAO,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,CAAE;IAChDC,QAAQ,EAAExB,QAAS;IACnByB,WAAW,EAAExB,WAAY;IAAAY,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC5B,CAAC,EAED,CAACpB,SAAS,IACPa,KAAA;IAAKe,SAAS,EAAC,SAAS;IAAAb,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACpBP,KAAA,CAACvB,OAAO;IAAAyB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACT,CACR,EAEApB,SAAS,aAATA,SAAS,uBAATA,SAAS,CACJ6B,IAAI,CAACC,aAAa,CAAC,CAAC,CAAC,CACtBC,GAAG,CACA,CAAC;IACGC,EAAE;IACFC,KAAK;IACLC,OAAO;IACPC,KAAK;IACLb,KAAK;IACLc,IAAI;IACJC,IAAI;IACJC,MAAM;IACNC;EACJ,CAAC,KACG1B,KAAA,CAAC3B,eAAe;IAACsD,GAAG,EAAER,EAAG;IAAAjB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACrBP,KAAA,CAAC1B,aAAa;IACVsD,SAAS,EAAER,KAAK,CAACS,MAAO;IACxBC,WAAW,EAAET,OAAO,CAACQ,MAAO;IAC5BE,IAAI,EAAET,KAAM;IAAApB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACf,CAAC,EACFP,KAAA,CAACzB,eAAe;IACZ4C,EAAE,EAAEA,EAAG;IACPV,KAAK,EAAEA,KAAM;IACbe,IAAI,EAAEA,IAAK;IACXC,MAAM,EAAEA,MAAO;IACfO,WAAW,EAAEN,OAAQ;IAAAxB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAErBP,KAAA;IAAKiC,uBAAuB,EAAE;MAAEC,MAAM,EAAEX;IAAK,CAAE;IAAArB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACpC,CACJ,CAEzB,CACA,CACV,CAAC;AAEX,CAAC;AAED,eAAevB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module"}